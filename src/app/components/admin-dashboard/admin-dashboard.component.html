<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidenav">
    <mat-list>
      <mat-list-item (click)="setActiveSection('dashboard')" [ngClass]="{ active: activeSection === 'dashboard' }">
        <mat-icon>dashboard</mat-icon>
        Dashboard
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('users')" [ngClass]="{ active: activeSection === 'users' }">
        <mat-icon>people</mat-icon>
        Users
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('drivers')" [ngClass]="{ active: activeSection === 'drivers' }">
        <mat-icon>local_taxi</mat-icon>
        Drivers
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('admins')" [ngClass]="{ active: activeSection === 'admins' }">
        <mat-icon>admin_panel_settings</mat-icon>
        Admins
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('reports')" [ngClass]="{ active: activeSection === 'reports' }">
        <mat-icon>assessment</mat-icon>
        Reports
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('settings')" [ngClass]="{ active: activeSection === 'settings' }">
        <mat-icon>settings</mat-icon>
        Settings
      </mat-list-item>
    </mat-list>
  </div>

  <!-- Main Content -->
  <div class="dashboard-wrapper">
    <div *ngIf="activeSection === 'dashboard'" class="header">
      <h2>Welcome, Admin</h2>
    </div>

    <section class="detail-section">
      <div *ngIf="activeSection === 'dashboard'">
        <div class="stats-grid">
          <div class="stat-card">
            <h3>Total Users</h3>
            <p>{{ stats.totalUsers }}</p>
          </div>
          <div class="stat-card">
            <h3>Total Drivers</h3>
            <p>{{ stats.totalDrivers }}</p>
          </div>
          <div class="stat-card">
            <h3>Active Rides</h3>
            <p>{{ stats.activeRides }}</p>
          </div>
        </div>
      </div>

      <div *ngIf="activeSection === 'dashboard'" class="chart-container">
        <!-- Line Chart (Full Width and Height) -->
        <div class="chart line-chart d-flex justify-center flex-column gap-2">
          <div class="d-flex w-100 justify-content-start">
            <h4>Rides Statistics</h4>
          </div>
          <p-chart type="line" [data]="lineChartData" [options]="lineChartOptions"></p-chart>
        </div>

        <!-- Pie && Doughnut Chart (Right) -->
        <!--        <div class="chart pie-chart">-->
        <!--          <p-chart type="pie" [data]="pieChartData" [options]="pieChartOptions"></p-chart>-->
        <!--        </div>-->

        <div class="chart pie-chart d-flex justify-center flex-column gap-1">
          <h4>Drivers Availability</h4>
          <p-chart type="doughnut" [data]="pieChartData" [options]="pieChartOptions" class="w-full md:w-[30rem]"/>
        </div>
      </div>


      <!-- Users Table -->
      <div *ngIf="activeSection === 'users'">
        <h3>Manage Users</h3>
        <div class="table-container">
          <table mat-table [dataSource]="users" class="mat-elevation-z8 modern-table">
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Name</th>
              <td mat-cell *matCellDef="let user"> {{ user.name }}</td>
            </ng-container>
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef> Email</th>
              <td mat-cell *matCellDef="let user"> {{ user.email }}</td>
            </ng-container>
            <ng-container matColumnDef="role">
              <th mat-header-cell *matHeaderCellDef> Role</th>
              <td mat-cell *matCellDef="let user"> {{ user.role }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="userColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: userColumns;"></tr>
          </table>
        </div>
      </div>

      <!-- Drivers Table -->
      <div *ngIf="activeSection === 'drivers'">
        <h3>Manage Drivers</h3>
        <div class="table-container">
          <table mat-table [dataSource]="drivers" class="mat-elevation-z8 modern-table">
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Name</th>
              <td mat-cell *matCellDef="let driver"> {{ driver.name }}</td>
            </ng-container>
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef> Email</th>
              <td mat-cell *matCellDef="let driver"> {{ driver.email }}</td>
            </ng-container>
            <ng-container matColumnDef="role">
              <th mat-header-cell *matHeaderCellDef> Role</th>
              <td mat-cell *matCellDef="let driver"> {{ driver.role }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="driverColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: driverColumns;"></tr>
          </table>
        </div>
      </div>

      <!-- Admins Table -->
      <div *ngIf="activeSection === 'admins'">
        <h3>Manage Admins</h3>
        <div class="table-container">
          <table mat-table [dataSource]="admins" class="mat-elevation-z8 modern-table">
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Name</th>
              <td mat-cell *matCellDef="let admin"> {{ admin.name }}</td>
            </ng-container>
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef> Email</th>
              <td mat-cell *matCellDef="let admin"> {{ admin.email }}</td>
            </ng-container>
            <ng-container matColumnDef="role">
              <th mat-header-cell *matHeaderCellDef> Role</th>
              <td mat-cell *matCellDef="let admin"> {{ admin.role }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="adminColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: adminColumns;"></tr>
          </table>
        </div>
      </div>

      <!-- Reports -->
      <div *ngIf="activeSection === 'reports'">
        <h3>Reports</h3>
        <p>View system reports...</p>
      </div>

      <!-- Settings -->
      <div *ngIf="activeSection === 'settings'">
        <h3>Settings</h3>
        <p>Update system configurations...</p>
      </div>
    </section>
  </div>
</div>
