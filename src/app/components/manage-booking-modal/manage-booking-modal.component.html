<div class="modal-overlay" *ngIf="display" (click)="closeModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <!-- Modal Header -->
    <div class="modal-header">
      <h2>Manage Booking</h2>
      <button class="close-btn" (click)="closeModal()">Ã—</button>
    </div>

    <!-- Search Section -->
    <div class="search-container">
      <input
        type="text"
        placeholder="Enter Reservation ID"
        [(ngModel)]="reservationId"
      />
      <button class="search-btn" (click)="searchReservation()">Search</button>
    </div>

    <!-- Booking Form -->
    <form *ngIf="bookingForm.get('id')?.value !== ''" class="booking-form" [formGroup]="bookingForm">
    <div class="form-header">
        <h3>Booking Details</h3>
        <button type="button" class="edit-btn" (click)="toggleEditMode()">
          <i class="fa" [ngClass]="isEditable ? 'fa-check' : 'fa-pencil'"></i>
        </button>
      </div>

      <!-- Customer Name -->
      <div class="form-group">
        <label for="customerName">Customer Name</label>
        <input id="customerName" type="text" [disabled]="true" value="{{ customerDetails?.firstName + ' ' + customerDetails?.lastName }}"/>
      </div>

      <!-- Vehicle No -->
      <div class="form-group">
        <label for="vehicleNo">Vehicle Number</label>
        <input id="vehicleNo" type="text" [disabled]="true" formControlName="vehicleNo"/>
      </div>

      <!-- Pickup Location -->
      <div class="form-group">
        <label for="pickUpLocation">Pickup Location</label>
        <input id="pickUpLocation" type="text" formControlName="pickUpLocation" [disabled]="!isEditable" />
      </div>

      <!-- Drop-off Location -->
      <div class="form-group">
        <label for="returnLocation">Drop-off Location</label>
        <input id="returnLocation" type="text" formControlName="returnLocation" [disabled]="!isEditable" />
      </div>

      <!-- Date & Time -->
      <div class="form-group">
        <label for="pickUpDate">Date & Time</label>
        <input id="pickUpDate" type="datetime-local" formControlName="pickUpDate" [disabled]="!isEditable" />
      </div>

      <div class="form-group">
        <label for="returnDate">Date & Time</label>
        <input id="returnDate" type="datetime-local" formControlName="returnDate" aria-disabled="true" [disabled]="!isEditable" />
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="submit" class="save-btn" [disabled]="!isEditable">Save Changes</button>
        <button type="button" class="cancel-btn" (click)="closeModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>
